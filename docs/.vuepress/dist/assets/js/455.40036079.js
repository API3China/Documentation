(window.webpackJsonp=window.webpackJsonp||[]).push([[455],{1108:function(t,e,_){"use strict";_.r(e);var v=_(15),o=Object(v.a)({},(function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"frontmatter-title"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[t._v("#")]),t._v(" "+t._s(t.$frontmatter.title))]),t._v(" "),_("TocHeader"),t._v(" "),_("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),t._v(" "),_("p",[t._v("API3的投票app实现了一个简单的基于法定人数的投票机制：")]),t._v(" "),_("ul",[_("li",[t._v("创建新提案至少需要的投票权(在池 合约中定义)")]),t._v(" "),_("li",[t._v("通过提案所需最低法定人数(等待期后)")]),t._v(" "),_("li",[t._v("可以决定通过提案的法定百分比")])]),t._v(" "),_("p",[t._v("提案包含一个执行脚本，如果提案通过了，可以执行提案。")]),t._v(" "),_("p",[t._v("API3 DAO在投票app上安装了两个版本，主要版本和次要版本，以及它们所控制的两个Aragon 代理(Aragon Agents)。 主要版本控制大一点的国库，可以更新所有 DAO 设置。 次要版本则控制一个小得多的国库，只可以更新一些DAO设置。")]),t._v(" "),_("p",[t._v("查看 "),_("a",{attrs:{href:"https://github.com/api3dao/api3-dao/tree/main/packages/dao/contracts",target:"_blank",rel:"noopener noreferrer"}},[t._v("Api3Template.sol"),_("OutboundLink")],1),t._v(" 合约代码和它所继承的Aragon合约。")]),t._v(" "),_("ul",[_("li",[t._v("基础模板")])]),t._v(" "),_("h2",{attrs:{id:"关键函数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#关键函数"}},[t._v("#")]),t._v(" 关键函数")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("签名")]),t._v(" "),_("th",[t._v("描述")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[_("code",[t._v("newVote(bytes _executionScript, string _metadata, bool _castVote, bool _executesIfDecided) returns (uint256 voteId)")])]),t._v(" "),_("td",[t._v("在 DAO 中创建一个新提案。 规定投票权的最低百分比（目前为0.1%）。")])]),t._v(" "),_("tr",[_("td",[_("code",[t._v("vote(uint256 _voteId, bool _supports, bool _executesIfDecided)")])]),t._v(" "),_("td",[t._v("对现有提案投票yes或no。")])]),t._v(" "),_("tr",[_("td",[_("code",[t._v("executeVote(uint256 _voteId)")])]),t._v(" "),_("td",[t._v("如果提案已准备好执行，则执行提案。")])])])]),t._v(" "),_("p",[t._v("提案可以执行的前提是")]),t._v(" "),_("blockquote",[_("ol",[_("li",[t._v("该提案尚未被执行，并且")]),t._v(" "),_("li",[t._v("超过50%的投票权对提案投了“yes”票，")])])]),t._v(" "),_("p",[t._v("或者")]),t._v(" "),_("blockquote",[_("ol",[_("li",[t._v("该提案尚未被执行，并")]),t._v(" "),_("li",[t._v("该提案的投票期已经结束，并且")]),t._v(" "),_("li",[t._v('"yes"的总票数超过"no"的票数；和')]),t._v(" "),_("li",[t._v('至少50%(用于主要app提案投票)或15%(用于次要app提案投票)投票能量对提案投了"yes"。')])])])],1)}),[],!1,null,null,null);e.default=o.exports}}]);