(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{1003:function(t,r,o){"use strict";o.r(r);var e=o(15),a=Object(e.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("TitleSpan",[t._v("A. 概念和定义")]),t._v(" "),e("h1",{attrs:{id:"frontmatter-title"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[t._v("#")]),t._v(" "+t._s(t.$frontmatter.title))]),t._v(" "),e("VersionWarning"),t._v(" "),e("TocHeader"),t._v(" "),e("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),t._v(" "),e("p",[t._v("为Airnode实现的第一个协议是请求-响应协议。 服务于请求-响应协议的Airnode监听请求，进行请求所指定的API调用，最后在链上进行响应交易。")]),t._v(" "),e("h2",{attrs:{id:"合约"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#合约"}},[t._v("#")]),t._v(" 合约")]),t._v(" "),e("blockquote",[e("p",[t._v("本节简要介绍请求响应-协议合约的结构。 您可以在 "),e("a",{attrs:{href:"https://github.com/api3dao/airnode/tree/v0.5/packages/airnode-protocol/contracts/rrp",target:"_blank",rel:"noopener noreferrer"}},[t._v("source files on github"),e("OutboundLink")],1),t._v(" 中找到更多信息。")])]),t._v(" "),e("p",[t._v("请求-响应协议被实现为单一的无权限合约，所有的Airnode都与之交互，它被命名为"),e("code",[t._v("AirnodeRrp.sol")]),t._v("。 这个基础合约有以下的继承树，将协议的各方面分门别类。")]),t._v(" "),e("blockquote",[e("p",[e("img",{attrs:{src:o(584),alt:"rrp-sol-diagram"}})])]),t._v(" "),e("h3",{attrs:{id:"airnoderrp-sol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#airnoderrp-sol"}},[t._v("#")]),t._v(" AirnodeRrp.sol")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/api3dao/airnode/blob/v0.5/packages/airnode-protocol/contracts/rrp/AirnodeRrp.sol",target:"_blank",rel:"noopener noreferrer"}},[t._v("AirnodeRrp.sol"),e("OutboundLink")],1),t._v(" 合约位于"),e("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/requester.html"}},[t._v("请求者")]),t._v(" 和 "),e("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/airnode.html"}},[t._v("Airnode")]),t._v("之间。 它继承了四个额外的合约，如上图所示：")],1),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/#iairnoderrp-sol"}},[t._v("IAirnodeRrp.sol")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/#authorizationutils-sol"}},[t._v("AuthorizationUtils.sol")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/#withdrawalutils-sol"}},[t._v("WithdrawalUtils.sol")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/#templateutils-sol"}},[t._v("TemplateUtils.sol")])],1)]),t._v(" "),e("p",[t._v("该合约有两项重要责任：")]),t._v(" "),e("ul",[e("li",[t._v("请求者使用它提出请求。")]),t._v(" "),e("li",[t._v("Airnodes使用它来完成请求。")])]),t._v(" "),e("p",[t._v("然而，这个合约是为特定链上的所有请求者和Airnode共享的。 这意味着，无论是Airnode运营商还是请求者都不需要自己部署这个合约。 相反，API3将在每条链上部署一次该合约，你只需将你的Airnode或请求者合约连接到该部署的合约。 请参阅 "),e("RouterLink",{attrs:{to:"/airnode/v0.6/reference/airnode-addresses.html"}},[t._v("Airnode contracting address")]),t._v(" 以获取参考信息。")],1),t._v(" "),e("p",[e("RouterLink",{attrs:{to:"/airnode/v0.6/reference/packages/admin-cli.html"}},[e("code",[t._v("@api3/airnode-admin")])]),t._v("软件包是一个CLI工具，用于与"),e("code",[t._v("AirnodeRrp.sol")]),t._v("互动并执行管理动作。")],1),t._v(" "),e("h3",{attrs:{id:"iairnoderrp-sol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#iairnoderrp-sol"}},[t._v("#")]),t._v(" IAirnodeRrp.sol")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/api3dao/airnode/blob/v0.5/packages/airnode-protocol/contracts/rrp/interfaces/IAirnodeRrp.sol",target:"_blank",rel:"noopener noreferrer"}},[t._v("IAirnodeRrp.sol"),e("OutboundLink")],1),t._v(" 接口描述了 "),e("code",[t._v("AirnodeRrp.sol")]),t._v(" 合约用于 实现此接口的所有功能和事件。")]),t._v(" "),e("p",[t._v("这个接口继承了：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/api3dao/airnode/blob/v0.5/packages/airnode-protocol/contracts/rrp/interfaces/IAuthorizationUtils.sol",target:"_blank",rel:"noopener noreferrer"}},[t._v("IAuthorizationUtils.sol"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/api3dao/airnode/blob/v0.5/packages/airnode-protocol/contracts/rrp/interfaces/IWithdrawalUtils.sol",target:"_blank",rel:"noopener noreferrer"}},[t._v("IWithdrawalUtils.sol"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/api3dao/airnode/blob/v0.5/packages/airnode-protocol/contracts/rrp/interfaces/ITemplateUtils.sol",target:"_blank",rel:"noopener noreferrer"}},[t._v("ITemplateUtils.sol"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"authorizationutils-sol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#authorizationutils-sol"}},[t._v("#")]),t._v(" AuthorizationUtils.sol")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/api3dao/airnode/blob/v0.5/packages/airnode-protocol/contracts/rrp/AuthorizationUtils.sol",target:"_blank",rel:"noopener noreferrer"}},[t._v("AuthorizationUtils.sol"),e("OutboundLink")],1),t._v(" 合约用于实施Airnode "),e("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/authorization.html"}},[t._v("Authorizer")]),t._v(" 检查功能.")],1),t._v(" "),e("h3",{attrs:{id:"withdrawalutils-sol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#withdrawalutils-sol"}},[t._v("#")]),t._v(" WithdrawalUtils.sol")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/api3dao/airnode/blob/v0.5/packages/airnode-protocol/contracts/rrp/WithdrawalUtils.sol",target:"_blank",rel:"noopener noreferrer"}},[t._v("WithdrawalUtils.sol"),e("OutboundLink")],1),t._v("合约允许"),e("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/sponsor.html"}},[t._v("赞助者")]),t._v("触发提款请求，随后由Airnode完成，所有赞助者的钱包资金被送回给赞助者。")],1),t._v(" "),e("h3",{attrs:{id:"templateutils-sol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#templateutils-sol"}},[t._v("#")]),t._v(" TemplateUtils.sol")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/api3dao/airnode/blob/v0.5/packages/airnode-protocol/contracts/rrp/TemplateUtils.sol",target:"_blank",rel:"noopener noreferrer"}},[t._v("TemplateUtils.sol"),e("OutboundLink")],1),t._v("合约用于创建和存储用于创建"),e("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/request.html#template-request"}},[t._v("模板请求")]),t._v("的Airnode"),e("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/template.html"}},[t._v("templates")]),t._v("。")],1)],1)}),[],!1,null,null,null);r.default=a.exports},584:function(t,r,o){t.exports=o.p+"assets/img/RRP-protocol-contracts.f5e94885.png"}}]);