(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{1007:function(r,e,s){"use strict";s.r(e);var a=s(15),d=Object(a.a)({},(function(){var r=this,e=r.$createElement,a=r._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[a("TitleSpan",[r._v("概念和定义")]),r._v(" "),a("h1",{attrs:{id:"frontmatter-title"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[r._v("#")]),r._v(" "+r._s(r.$frontmatter.title))]),r._v(" "),a("VersionWarning"),r._v(" "),a("TocHeader"),r._v(" "),a("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),r._v(" "),a("p",[r._v("有两种方法可以通过 API 供应商管理他们的 API 的 访问，这两种方法可以被称为请求者的链上智能合约管理。")]),r._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/airnode/v0.6/grp-providers/guides/build-an-airnode/apply-auth.html"}},[r._v("授权者")]),r._v("(链上)")],1),r._v(" "),a("li",[a("RouterLink",{attrs:{to:"/airnode/v0.6/grp-providers/guides/build-an-airnode/api-security.html"}},[r._v("中继元数据安全方案")]),r._v("(链下)")],1)]),r._v(" "),a("p",[r._v("中继元数据是已知的请求者(智能合约) 通过 Airnode传递到 API 端点的信息。")]),r._v(" "),a("p",[r._v("使用中继元数据安全方案，不需要区块链特定知识或API供应商的区块链交互，也没有区块链交易（gas）费用。 只需在部署Airnode的过程中，在Airnode "),a("code",[r._v("config.json")]),r._v(" 文件中应用所需的安全方案字段，见"),a("RouterLink",{attrs:{to:"/airnode/v0.6/grp-providers/guides/build-an-airnode/"}},[r._v("构建Airnode")]),r._v("。 然后让你的API操作根据客户数据库，检查配置的任何安全方案值（通常是 "),a("code",[r._v("sponsorAddress")]),r._v("）。")],1),r._v(" "),a("h2",{attrs:{id:"简单示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单示例"}},[r._v("#")]),r._v(" 简单示例")]),r._v(" "),a("p",[r._v("下面的图示是将传输的元数据用于安全 目的的一种方式。 这里是一个赞助者 (例如 开发者或客户）提交了他们的 "),a("code",[r._v("sponsorAddress")]),r._v(" ，由一个 API 供应商存储。 "),a("code",[r._v("sponsorAddress")]),r._v("可以用来验证赞助者的智能合约的请求。")]),a("p"),r._v(" "),a("p",[a("img",{attrs:{src:s(586),alt:"概念授权人"}})]),r._v(" "),a("p",[r._v("以下各节与上图中的数字相关。")]),r._v(" "),a("h3",{attrs:{id:"_1-部署-airnode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-部署-airnode"}},[r._v("#")]),r._v(" 1： 部署 Airnode")]),r._v(" "),a("p",[r._v("将Airnode部署为 "),a("code",[r._v("sponsorAddress")]),r._v(" 安全方案，指示Airnode将 "),a("code",[r._v("sponsorAddress")]),r._v(" 与所有请求一起传递。")]),r._v(" "),a("h3",{attrs:{id:"_2-注册赞助者"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-注册赞助者"}},[r._v("#")]),r._v(" 2： 注册赞助者")]),r._v(" "),a("p",[r._v("赞助者是一个链上智能合约的开发者，希望从API供应商那里请求链外数据。 每个赞助商都有一个已知的 "),a("code",[r._v("sponsorAddress")]),r._v("。 API供应商可以使用网络表格向赞助者索取 "),a("code",[r._v("sponsorAddress")]),r._v(" ，作为付费订阅设置的一部分。")]),r._v(" "),a("h3",{attrs:{id:"_3-提出请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-提出请求"}},[r._v("#")]),r._v(" 3：提出请求")]),r._v(" "),a("p",[r._v("当智能合约(请求者) 提出任何API操作的请求时，"),a("code",[r._v("sponsorAddress")]),r._v(" 将成为请求的一部分。 每个赞助者可以有一个以上的请求者。")]),r._v(" "),a("ul",[a("li",[r._v("3a: 请求者向Airnode提出请求。")]),r._v(" "),a("li",[r._v("3b: Airnode 将 "),a("code",[r._v("sponsorAddress")]),r._v("添加到请求中，然后将 请求传递到 API 操作中。 API 操作在 "),a("code",[r._v("sponsorAddress")]),r._v("上进行查找，验证它是否获得订阅。 如果获得验证，则API操作返回对 Airnode的响应。")]),r._v(" "),a("li",[r._v("3c: Airnode向请求者返回响应。")])]),r._v(" "),a("h2",{attrs:{id:"安全方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全方案"}},[r._v("#")]),r._v(" 安全方案")]),r._v(" "),a("p",[r._v("包含用于 [简单例子](./relay-meta-auth. md#simple-example) 的"),a("code",[r._v("sponsorAddress")]),r._v("，我们有五个 "),a("em",[r._v("中继元数据安全方案")]),r._v("， 都可以被纳入任何Airnode中。")]),r._v(" "),a("ul",[a("li",[r._v("[remedyChainId](../grp-providers/guides/build-an-airnode/api-security. md#relaychainid) - 请求的链ID。")]),r._v(" "),a("li",[r._v("[relayChainType](../grp-providers/guides/build-an-airnode/api-security. md#relaychaintype) - 请求的链类型。")]),r._v(" "),a("li",[r._v("[relaySponsorAddress](../grp-providers/guides/build-an-airnode/api-security. md#relaysponsoraddress) - 赞助者的钱包地址。 赞助者拥有并运营一个或多个请求者。")]),r._v(" "),a("li",[r._v("[relaySponsorWalletAddress](../grp-providers/guides/build-an-airnode/api-security. md#relaysponsorwalletaddress) - 其他与每个请求者相关联的钱包地址。 这些都是由赞助商拥有和资助的，以支付链上的gas费用。")]),r._v(" "),a("li",[r._v("[relayRequesterAddress](../grp-providers/guides/build-an-airnode/api-security. md#relayrequesteraddress) - 请求者的链上地址 (智能合同)。")])])],1)}),[],!1,null,null,null);e.default=d.exports},586:function(r,e,s){r.exports=s.p+"assets/img/relay-meta-flow.35426950.png"}}]);