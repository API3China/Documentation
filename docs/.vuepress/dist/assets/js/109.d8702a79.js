(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{1012:function(e,t,r){"use strict";r.r(t);var o=r(15),l=Object(o.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("TitleSpan",[e._v("开发者")]),e._v(" "),o("h1",{attrs:{id:"frontmatter-title"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[e._v("#")]),e._v(" "+e._s(e.$frontmatter.title))]),e._v(" "),o("VersionWarning"),e._v(" "),o("p",[o("strong",[e._v("开发者")]),e._v(" 就是你，如果你想要消耗来自 API 的链下数据。 您需要使用Airnodes来实现。 Airnode 是一种第一方的预言机，它将它将链外API数据推送到你的链上合约。 在下面的图表中，您的合约被称为请求者。 它向链上的RRP协议合同(AirnodeRrp.sol)提出请求，将请求添加到事件日志中。 然后，链外的Airnode访问事件日志，获得API数据，并执行对请求者的回调。")]),e._v(" "),o("p",[e._v("总之，你只需要做两件事情。")]),e._v(" "),o("ul",[o("li",[e._v("调用 "),o("code",[e._v("makeFullRequest()")]),e._v(" or "),o("code",[e._v("makeTemplateRequest()")]),e._v(" 在 AirnodeRrp.sol 合约上返回一个 "),o("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/request.html#requestid"}},[o("code",[e._v("requestId")])]),e._v(".调用 "),o("code",[e._v("makeFullRequest()")]),e._v(" or "),o("code",[e._v("makeTemplateRequest()")]),e._v(" 在 AirnodeRrp.sol 合约上返回一个 "),o("RouterLink",{attrs:{to:"/airnode/v0.6/concepts/request.html#requestid"}},[o("code",[e._v("requestId")])]),e._v(".")],1),e._v(" "),o("li",[e._v("添加 "),o("code",[e._v("myFulfill()")]),e._v(" 函数(所有你喜欢的) 到你的请求者(您的 合同)，在这个函数中，离开链的 Airnode 可以在准备好后发送所请求的数据。调用 "),o("code",[e._v("makeFullRequest()")]),e._v(" or "),o("code",[e._v("makeTemplateRequest()")]),e._v(" 在 AirnodeRrp. sol 合约上返回一个 ["),o("code",[e._v("requestId")]),e._v("](../concepts/request. md#requestid). 该数据包括与提出请求时返回的 "),o("code",[e._v("requestId")]),e._v(" 相同的数据。")])]),e._v(" "),o("blockquote",[o("p",[o("img",{attrs:{src:r(590),alt:"call"}})]),e._v(" "),o("ol",[o("li",[o("p",{staticClass:"diagram-line",staticStyle:{color:"black"}},[e._v("请求者(myContract.sol)向RRP协议合同(AirnodeRrp)提出请求。 通过调用 "),o("code",[e._v("makeFullRequest()")]),e._v(" 将请求添加到事件日志，并返回 "),o("code",[e._v("requestId")]),e._v(" 给请求者。")])]),e._v(" "),o("li",[o("p",{staticClass:"diagram-line",staticStyle:{color:"black"}},[e._v("Airnode 从事件日志中检索链上的请求。")])]),e._v(" "),o("li",[o("p",{staticClass:"diagram-line",staticStyle:{color:"green"}},[e._v("Airnode 从请求中指定的 API 收集响应数据。")])]),e._v(" "),o("li",[o("p",{staticClass:"diagram-line",staticStyle:{color:"blue"}},[e._v("Airnode 通过AirnodeRrp函数"),o("code",[e._v("fulfill()")]),e._v("对myContract.sol中一个命名的函数 "),o("code",[e._v("myFulfill()")]),e._v(" 进行回调，并附上请求的数据和 "),o("code",[e._v("requestId")]),e._v("。")])])])]),e._v(" "),o("p",[e._v("欲了解更详细的图表，请参阅 "),o("RouterLink",{attrs:{to:"/airnode/v0.6/grp-developers/call-an-airnode.html"}},[e._v("调用Airnode")]),e._v(" 文档中的第一张图。")],1)],1)}),[],!1,null,null,null);t.default=l.exports},590:function(e,t,r){e.exports=r.p+"assets/img/developer-overview.1d5f1fb5.png"}}]);