(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{700:function(e,a,t){"use strict";t.r(a);var n=t(60),r=t(87),i=(t(21),t(219),t(30),t(6),t(34),t(441),t(442)),o={name:"BeaconOverlayValue",data:function(){return{beacon:null,loading:!0,value:null,date:null,time:null,timestamp:null,iso:null,err:null}},methods:{setBeaconValue:function(e){var a=this;return Object(r.a)(Object(n.a)().mark((function t(){var r,o,l,s,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null!=e&&(a.beacon=e),t.prev=1,a.loading=!0,a.value=void 0,a.date=void 0,a.time=void 0,a.timestamp=void 0,a.iso=void 0,a.error=void 0,t.next=11,i.get("https://api-ethers.herokuapp.com/beacons/"+a.beacon.beaconId);case 11:(r=t.sent).data.reason||r.data.code?a.err=r.data.reason+" - "+r.data.code:(o=r.data.split(","),0!==(l=a.beacon.decodedParameters.filter((function(e){return"_times"===e.name}))).length?(s=l[0].value.split(","),a.value=o[0]/s[0]):a.value=o[0],a.timestamp=o[1],c=new Date(1e3*o[1]),a.date=c.toDateString(),a.time=c.toTimeString()),a.loading=!1,t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),a.err=t.t0,a.loading=!1;case 20:case"end":return t.stop()}}),t,null,[[1,16]])})))()}}},l=t(15),s=Object(l.a)(o,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("a",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{href:"javascript:void(0);"},on:{click:function(a){return e.setBeaconValue()}}},[t("img",{staticStyle:{float:"right","margin-right":"10px"},attrs:{width:"25px",src:"/img/refresh-icon.png"}})]),e._v(" "),t("i",{staticStyle:{"margin-left":"5px"}},[e._v("Value:")]),e._v(" "),t("b",[e._v(e._s(e.value))]),t("img",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{width:"20%",src:"/img/marching-balls.gif"}}),e._v(" "),t("div",{staticStyle:{"margin-left":"11px","font-family":"courier","font-size":"small"}},[e._v("\n    Date: "+e._s(e.date)+" "),t("br"),e._v("Time: "+e._s(e.time)+" "),t("br")]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.err,expression:"err"}],staticStyle:{"font-family":"courier","margin-left":"11px",color:"red","font-size":"small"}},[e._v("\n    "+e._s(e.err)+"\n  ")])])}),[],!1,null,null,null);a.default=s.exports}}]);