(window.webpackJsonp=window.webpackJsonp||[]).push([[415],{1062:function(s,a,t){"use strict";t.r(a);var e=t(15),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("TitleSpan",[s._v("软件包")]),s._v(" "),t("h1",{attrs:{id:"frontmatter-title"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[s._v("#")]),s._v(" "+s._s(s.$frontmatter.title))]),s._v(" "),t("VersionWarning"),s._v(" "),t("TocHeader"),s._v(" "),t("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/api3dao/airnode/tree/v0.5/packages/airnode-validator",target:"_blank",rel:"noopener noreferrer"}},[s._v("airnode-validator"),t("OutboundLink")],1),s._v("软件包被称为验证器，它被"),t("RouterLink",{attrs:{to:"/airnode/v0.6/grp-providers/docker/"}},[s._v("Docker 镜像")]),s._v(" 用来验证你在部署Airnode时提供的"),t("RouterLink",{attrs:{to:"/airnode/v0.6/grp-providers/guides/build-an-airnode/configuring-airnode.html"}},[s._v("配置文件")]),s._v("。 你也可以使用验证器在创建配置文件时，检查其格式是否正确和其他问题。")],1),s._v(" "),t("h2",{attrs:{id:"用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[s._v("#")]),s._v(" 用法")]),s._v(" "),t("p",[s._v("验证器的命令可以使用"),t("a",{attrs:{href:"https://nodejs.dev/learn/the-npx-nodejs-package-runner",target:"_blank",rel:"noopener noreferrer"}},[s._v("npx"),t("OutboundLink")],1),s._v("、安装全局npm包、验证器SDK或通过手动构建验证器包来运行。 使用npx是与验证器交互的最简单方法。")]),s._v(" "),t("ul",[t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/packages/validator.html#using-npx"}},[s._v("使用 npx")])],1),s._v(" "),t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/packages/validator.html#global-package"}},[s._v("全局套件")])],1),s._v(" "),t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/packages/validator.html#use-the-sdk"}},[s._v("使用 SDK")])],1),s._v(" "),t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/packages/validator.html#build-manually"}},[s._v("手动创建")])],1)]),s._v(" "),t("h3",{attrs:{id:"使用-npx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-npx"}},[s._v("#")]),s._v(" 使用 npx")]),s._v(" "),t("p",[s._v("验证程序包可以使用 npx 作为一个npm 软件包运行。 这允许您运行验证器命令，而不需要安装验证器npm 软件包或自己手动构建验证器软件包。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("npx @api3/airnode-validator api3-validator --template"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"config"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"config.json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"全局套件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局套件"}},[s._v("#")]),s._v(" 全局套件")]),s._v(" "),t("p",[s._v("验证程序包可以用 yarn 或 npm 全局安装。 如果使用 yarn 安装，请确保yarn bin 被添加到 "),t("code",[s._v("PATH")]),s._v(" 中。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" global "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" @api3/airnode-validator\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OR")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @api3/airnode-validator -g\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Executing the validator.")]),s._v("\napi3-validator --template"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"config"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"config.json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"使用-sdk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-sdk"}},[s._v("#")]),s._v(" 使用 SDK")]),s._v(" "),t("p",[s._v("验证程序包导出用于验证的有用函数。 在输出中，当没有错误时，"),t("code",[s._v("valid")]),s._v("被设置为"),t("code",[s._v("true")]),s._v("，然而在"),t("code",[s._v("messages")]),s._v("中可能有警告。 验证器使用了最新的模板，除非应用了特定的模板版本。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" validator "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@api3/airnode-validator'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Using the latest template.")]),s._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  validator"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("validateWithTemplate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'exampleSpecs/config.specs.json'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'config'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Using a versioned template.")]),s._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  validator"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("validateWithTemplate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'exampleSpecs/config.specs.json'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'config@0.6'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n# Outputs json\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("valid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" boolean"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("messages")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("level")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"error"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"warning"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("message")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"手动创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动创建"}},[s._v("#")]),s._v(" 手动创建")]),s._v(" "),t("p",[s._v("你可以克隆并构建Airnode monorepo，然后在 "),t("code",[s._v("packages/airnode-validator")]),s._v(" 目录下，以yarn脚本的方式运行验证器。 参见monorepo验证器包的"),t("a",{attrs:{href:"https://github.com/api3dao/airnode/tree/v0.5/packages/airnode-validator",target:"_blank",rel:"noopener noreferrer"}},[s._v("README"),t("OutboundLink")],1),s._v("中的说明。")]),s._v(" "),t("h2",{attrs:{id:"示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),t("p",[s._v("验证器是基于两个主要参数来运作的。 "),t("code",[s._v("--template")]),s._v("参数描述了要验证的内容类型。 第二， "),t("code",[s._v("--specs")]),s._v(" 参数需要包含内容的文件才能验证。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npx @api3/airnode-validator --help\n\nOptions:\n      --help                    Show help                              [boolean]\n      --version                 Show version number                    [boolean]\n  -t, --template                Path to validator template file or name of\n                                airnode specification format           [string] [required]\n  -s, --specification, --specs  Path to specification file that will be\n                                validated                              [string] [required]\n  -i, --secrets                 Path to .env file that will be interpolated with\n                                specification                          [string]\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("对于"),t("code",[s._v("--template")]),s._v("参数，请使用以下不区分大小写的数值之一。")]),s._v(" "),t("ul",[t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/packages/validator.html#config"}},[s._v("config")])],1),s._v(" "),t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/packages/validator.html#ois"}},[s._v("OIS")])],1),s._v(" "),t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/packages/validator.html#apispecifications"}},[s._v("apiSpecifications")]),s._v(" "),t("em",[s._v("or")]),s._v(" apiSpecs")],1),s._v(" "),t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/packages/validator.html#endpoints"}},[s._v("endpoints")])],1)]),s._v(" "),t("p",[s._v("当模板不包含特定的版本时，验证器会自动验证模板的最新可用版本（即， "),t("code",[s._v('--template="config"')]),s._v("）。 如果需要特定版本，可以将其附加到模板参数中(如 "),t("code",[s._v('--template="config@0.3"')]),s._v(")。 你可以在Airnode monorepo的验证器包中看到不同的"),t("a",{attrs:{href:"https://github.com/api3dao/airnode/tree/v0.5/packages/airnode-validator/templates",target:"_blank",rel:"noopener noreferrer"}},[s._v("模板版本"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#config"}},[s._v("#")]),s._v(" config")]),s._v(" "),t("p",[s._v("以下代码示例验证一个 "),t("code",[s._v("config.json")]),s._v(" 文件。 这是最常见的验证用例。 其他模板（"),t("code",[s._v("apiSpecifications, endpoints, OIS")]),s._v("）支持config.json中的对象，必须在单独的文件中才能被验证。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Validates a completed config.json file using the latest template version.")]),s._v("\nnpx @api3/airnode-validator --template"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"config"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myProject/config/config.json"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Uses the 0.6 template version.")]),s._v("\nnpx @api3/airnode-validator --template"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"config@0.6"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myProject/config/config.json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("你很可能将秘密保存在一个与"),t("code",[s._v("config.json")]),s._v("文件分开的文件中。 使用"),t("code",[s._v("--secrets")]),s._v("参数，支持用env文件进行插值。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("npx @api3/airnode-validator --template"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"config"')]),s._v(" --secrets"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"secrets.env"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myProject/config/config.json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"ois"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ois"}},[s._v("#")]),s._v(" OIS")]),s._v(" "),t("p",[s._v("下面的代码例子验证了一个"),t("RouterLink",{attrs:{to:"/ois/v1.0.0/ois.html"}},[s._v("OIS")]),s._v(" 对象，它被放置在一个独立于"),t("code",[s._v("config.json")]),s._v("文件的文件中。 OIS对象包含一个 API 和 Airnode 端点之间的映射。 "),t("em",[s._v("支持使用env文件进行插值。")])],1),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Validates an OIS object from an ois-spec.json file.")]),s._v("\nnpx @api3/airnode-validator --template"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OIS"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myProject/config/ois-spec.json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"apispecifications"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#apispecifications"}},[s._v("#")]),s._v(" apiSpecifications")]),s._v(" "),t("p",[s._v("下面的代码示例验证一个"),t("code",[s._v("ois.apiSpecifications")]),s._v("对象，该对象被放置在一个独立于 "),t("code",[s._v("config.json")]),s._v(" file and its parent object文件及其父对象 "),t("code",[s._v("ois")]),s._v("的文件中。 "),t("RouterLink",{attrs:{to:"/ois/v1.0.0/ois.html#_4-apispecifications"}},[s._v("ois.apiSpecifications")]),s._v("对象定义/指定了Airnode将调用的API。 "),t("em",[s._v("支持使用env文件进行插值。")])],1),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("npx @api3/airnode-validator --template"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"apiSpecifications"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myProject/config/apiSpecifications.json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"endpoints"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#endpoints"}},[s._v("#")]),s._v(" endpoints")]),s._v(" "),t("p",[s._v("下面的代码示例验证一个"),t("code",[s._v("ois.endpoints")]),s._v(" 对象，该对象被放置在一个独立于 "),t("code",[s._v("config.json")]),s._v("文件及其父对象 "),t("code",[s._v("ois")]),s._v("的文件中。 "),t("RouterLink",{attrs:{to:"/ois/v1.0.0/ois.html#_5-endpoints"}},[s._v("ois.endpoint")]),s._v(" 对象包含 Airnode 端点，映射到 "),t("code",[s._v("ois.apiProcesses")]),s._v(" 对象。 "),t("em",[s._v("支持使用 env 文件进行插值。")])],1),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("npx @api3/airnode-validator --template"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"endpoints"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myProject/config/endpoints.json"')]),s._v("\n``"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("-- PLEASE NOTE:\nTHE CONVERTOR HAS BEEN COMMENTED OUT AS OF Jan 5th, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(".\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Convertor")]),s._v("\n\nThe convertor is useful to create an initial "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("config.json"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" an Airnode.\nOnce you create an "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OIS object"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/ois/v1.0.0/ois.md"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", the convertor can\ncreate a config object along with the other fields that can be pasted into a\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("config.json"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v(" file. The "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" will have areas of content that are "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"filled-in"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v("\ncompleteness.\n\nThe currently available conversions are from "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("OAS"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v(" to "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("OIS"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" and from "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("OIS"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v(" to\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("config"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(". Specification formats are case-insensitive.\n\nConvertor CLI commands work the same way as the validator and can be invoked\nwith the "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("api3-convertor"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v(" command. The version of the "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e.g., "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("@5"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" can\nbe provided otherwise the latest version is used.\n\n- --from: Type of object to convert "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OAS or OIS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n- --to: Type of object to convert into "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OIS or config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n- --spec: Source of the "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" containing the object to be converted.\n\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("``sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Creates an OIS object from an OAS specification file.")]),s._v("\nnpx @api3/airnode-validator api3-convertor --from"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OAS"')]),s._v(" --to"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OIS"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"exampleSpecs/OAS.specs.json"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Creates a config file with an OIS object embedded specifically using version 0.3.")]),s._v("\nnpx @api3/airnode-validator api3-convertor --from"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ois@1.0"')]),s._v(" --to"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"config@0.3"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"exampleSpecs/ois.specs.json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br")])]),t("h3",{attrs:{id:"usage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[s._v("#")]),s._v(" Usage")]),s._v(" "),t("p",[s._v("The following steps represent a simple workflow to create a "),t("code",[s._v("config.json")]),s._v(" file\nready for final editing.")]),s._v(" "),t("h4",{attrs:{id:"step-1-optional"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-1-optional"}},[s._v("#")]),s._v(" Step 1: (optional)")]),s._v(" "),t("p",[s._v("If you have manually created an "),t("RouterLink",{attrs:{to:"/ois/v1.0.0/ois.html"}},[s._v("OIS object")]),s._v(" skip this\nstep. In this step the convertor creates an OIS object from an OAS specification\nfile. The convertor outputs an OIS object. Paste the OIS object into a spec file\n(e.g., "),t("code",[s._v("OIS.spec.json")]),s._v(").")],1),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Creates the OIS object from an OAS spec file.")]),s._v("\n npx @api3/airnode-validator api3-convertor --from"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OAS"')]),s._v(" --to"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OIS"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-config/OAS.spec.json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"step-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-2"}},[s._v("#")]),s._v(" Step 2:")]),s._v(" "),t("p",[s._v("This step creates a config object from an OIS object. The OIS object could have\nbeen created manually or by using the OAS to OIS conversion of step #1. Copy and\npaste the convertor output into a file named "),t("code",[s._v("config.json")]),s._v(".")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Create a config object with the ois object.")]),s._v("\n  npx @api3/airnode-validator api3-convertor --from"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ois@1.0"')]),s._v(" --to"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"config@0.3"')]),s._v(" --specs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-config/ois.json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"step-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-3"}},[s._v("#")]),s._v(" Step 3:")]),s._v(" "),t("p",[s._v("The newly created "),t("code",[s._v("config.json")]),s._v(" file now contains five root level fields of\nwhich the OIS object is one. Continue to edit this file to customize how your\nAirnode will behave.")]),s._v(" "),t("ul",[t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/deployment-files/config-json.html#chains"}},[s._v("chains")])],1),s._v(" "),t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/deployment-files/config-json.html#nodesettings"}},[s._v("nodeSettings")])],1),s._v(" "),t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/deployment-files/config-json.html#triggers"}},[s._v("triggers")])],1),s._v(" "),t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/deployment-files/config-json.html#ois"}},[s._v("ois")])],1),s._v(" "),t("li",[t("RouterLink",{attrs:{to:"/airnode/v0.6/reference/deployment-files/config-json.html#apicredentials"}},[s._v("apiCredentials")])],1)]),s._v(" "),t("p",[s._v("--\x3e## 输出:")]),s._v(" "),t("p",[s._v("验证器提供以下输出：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Default output")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"valid"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" boolean"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"messages"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"level"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"error"')]),s._v(" | "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"warning"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"message"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"output"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" object\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])])],1)}),[],!1,null,null,null);a.default=n.exports}}]);